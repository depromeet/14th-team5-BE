name: "Pull Request 오토 템플릿 추가"
on: pull_request

jobs:
  update_pr_templates:
    runs-on: ubuntu-latest
    steps:
      - uses: tzkhan/pr-update-action@v2 # https://github.com/tzkhan/pr-update-action
        with:
          repo-token: "${{ secrets.GITHUB_TOKEN }}"
          base-branch-regex: 'dev'
          head-branch-regex: 'oing-\d+' # Branch에서 Ticket Regex
          title-template: '[%headbranch%] ' # PR Title Prefix 템플릿 (티켓 번호) (ex: [OING-1234] ~ )
          body-template: | # PR Body suffix 템플릿 (지라 링크)
            ## 🔗 참조 or 관련된 이슈

            ---
            https://no5ing.atlassian.net/browse/%headbranch%
          body-update-action: 'suffix'

      - uses: tzkhan/pr-update-action@v2 # https://github.com/tzkhan/pr-update-action
        with:
          repo-token: "${{ secrets.GITHUB_TOKEN }}"
          base-branch-regex: 'main'
          head-branch-regex: '(release|hotfix)\/\d+.\d+.\d+' # release 또는 hotfix 브랜치 reges (ex: release/1.0.0)
          title-template: '[%headbranch%] ' # PR Title Prefix 템플릿 (배포 속성) (ex: [RELEASE/1.0.0])